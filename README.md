# Практическая работа №6
## Тема: Создание API при помощи пакета Conduit.
### Цель работы: необходимо реализовать API при помощи пакета Conduit. 

### Ход работы:
Для работы с API, необходимо было поставить библиотеки: conduit и jaguar_jwt.
Conduit использует анализ структуры классов для реализации ORM.
Jaguar_jwt это JSON объект, который определен в открытом стандарте RFC 7519. Он считается одним из безопасных способов передачи информации между двумя участниками. Для его создания необходимо определить заголовок (header) с общей информацией по токену, полезные данные (payload), такие как id пользователя, его роль и т.д. и подписи (signature).
Модели:
Для работы с БД, в программе прописываются модели, которые хранят в себе поля с их ограничениями.
Модель «Категория» имеет поля: наименование и заметка.

 ![image](https://user-images.githubusercontent.com/94557992/219962037-c0f97cb7-3393-4879-b77a-d0093fd52d65.png)

Рисунок 19 – Модель «Категория»
Модель «Заметка» имеет поля: название, контент, дата создания, удаление, автор и категория.
 
Рисунок 20 – Модель «Заметка»
Модель «История» имеет поля: дата действия и действие.
 
Рисунок 21 – Модель «История»
Модель «Пользователь» имеет поля: логин, пароль, почта, доступный токен, обновленный токен, соль, хешированный пароль и заметки.
 
Рисунок 22 – Модель «Пользователь»
Конфигурационные файлы:
В данном файле прописываются данные базы данных: наименование, пароль, хост, порт и имя БД.
 
Рисунок 23 – Database
В данном файле прописываются исключения и ответы между приложением и БД.
 
Рисунок 24 – AppResponse
В данном файле прописывается взаимосвязь между токеном и пользователем.
 
Рисунок 25 – AppUtils
В данном файле прописываются маршруты и инициализируется БД.
 
Рисунок 26 – AppService
Результат работы программы:
 
Рисунок 27 – Регистрация пользователя
 
Рисунок 28 – Авторизация пользователя
 
Рисунок 29 – Обновление token’а
 
Рисунок 30 – Получение данных
 
Рисунок 31 – Изменение данных
 
Рисунок 32 – Изменение пароля
 
Рисунок 33 – Создание категории
 
Рисунок 34 – Вывод категорий
 
Рисунок 35 – Изменение категории
 
Рисунок 36 – Удаление категории
 
Рисунок 37 – Создание заметки
 
Рисунок 38 – Вывод заметок
 
Рисунок 39 – Вывод заметок с пагинацией
 
Рисунок 40 – Изменение заметки
 
 
Рисунок 41 – Удаление заметки на логическом уровне
 
Рисунок 42 – Проверка удаления заметки на логическом уровне
 
Рисунок 43 – Проверка удаления заметки
 
Рисунок 44 – Физическое удаление заметки
 
Рисунок 45 – Проверка физического удаления
 
Рисунок 46 – Восстановление данных
 
Рисунок 47 – Проверка восстановленных данных

### Вывод: в ходе работы реализовала API при помощи пакета Conduit.
